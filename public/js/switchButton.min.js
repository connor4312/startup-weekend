/*! Built 13-10-2013 at #SWPNS */
!function(a){a.widget("sylightsUI.switchButton",{options:{checked:void 0,show_labels:!0,labels_placement:"both",on_label:"ON",off_label:"OFF",width:25,height:11,button_width:12,clear:!0,clear_after:null},_create:function(){void 0===this.options.checked&&(this.options.checked=this.element.prop("checked")),this._initLayout(),this._initEvents()},_initLayout:function(){this.element.hide(),this.off_label=a("<span>").addClass("switch-button-label"),this.on_label=a("<span>").addClass("switch-button-label"),this.button_bg=a("<div>").addClass("switch-button-background"),this.button=a("<div>").addClass("switch-button-button"),this.off_label.insertAfter(this.element),this.button_bg.insertAfter(this.off_label),this.on_label.insertAfter(this.button_bg),this.button_bg.append(this.button),this.options.clear&&(null===this.options.clear_after&&(this.options.clear_after=this.on_label),a("<div>").css({clear:"left"}).insertAfter(this.options.clear_after)),this._refresh(),this.options.checked=!this.options.checked,this._toggleSwitch()},_refresh:function(){switch(this.options.show_labels?(this.off_label.show(),this.on_label.show()):(this.off_label.hide(),this.on_label.hide()),this.options.labels_placement){case"both":(this.button_bg.prev()!==this.off_label||this.button_bg.next()!==this.on_label)&&(this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertAfter(this.button_bg),this.on_label.addClass(this.options.checked?"on":"off").removeClass(this.options.checked?"off":"on"),this.off_label.addClass(this.options.checked?"off":"on").removeClass(this.options.checked?"on":"off"));break;case"left":(this.button_bg.prev()!==this.on_label||this.on_label.prev()!==this.off_label)&&(this.off_label.detach(),this.on_label.detach(),this.off_label.insertBefore(this.button_bg),this.on_label.insertBefore(this.button_bg),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on"));break;case"right":(this.button_bg.next()!==this.off_label||this.off_label.next()!==this.on_label)&&(this.off_label.detach(),this.on_label.detach(),this.off_label.insertAfter(this.button_bg),this.on_label.insertAfter(this.off_label),this.on_label.addClass("on").removeClass("off"),this.off_label.addClass("off").removeClass("on"))}this.on_label.html(this.options.on_label),this.off_label.html(this.options.off_label),this.button_bg.width(this.options.width),this.button_bg.height(this.options.height),this.button.width(this.options.button_width),this.button.height(this.options.height)},_initEvents:function(){var a=this;this.button_bg.click(function(b){return b.preventDefault(),b.stopPropagation(),a._toggleSwitch(),!1}),this.button.click(function(b){return b.preventDefault(),b.stopPropagation(),a._toggleSwitch(),!1}),this.on_label.click(function(){return a.options.checked&&"both"===a.options.labels_placement?!1:(a._toggleSwitch(),!1)}),this.off_label.click(function(){return a.options.checked||"both"!==a.options.labels_placement?(a._toggleSwitch(),!1):!1})},_setOption:function(a,b){return"checked"===a?(this._setChecked(b),void 0):(this.options[a]=b,this._refresh(),void 0)},_setChecked:function(a){a!==this.options.checked&&(this.options.checked=!a,this._toggleSwitch())},_toggleSwitch:function(){this.options.checked=!this.options.checked;var a="";if(this.options.checked){this.element.prop("checked",!0),this.element.change();var b=this.options.width-this.options.button_width;a="+="+b,"both"==this.options.labels_placement?(this.off_label.removeClass("on").addClass("off"),this.on_label.removeClass("off").addClass("on")):(this.off_label.hide(),this.on_label.show())}else this.element.prop("checked",!1),this.element.change(),a="-1px","both"==this.options.labels_placement?(this.off_label.removeClass("off").addClass("on"),this.on_label.removeClass("on").addClass("off")):(this.off_label.show(),this.on_label.hide());this.button.animate({left:a},250,"easeInOutCubic")}})}(jQuery);